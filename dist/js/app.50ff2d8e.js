(function(e){function t(t){for(var n,l,i=t[0],s=t[1],c=t[2],p=0,d=[];p<i.length;p++)l=i[p],Object.prototype.hasOwnProperty.call(r,l)&&r[l]&&d.push(r[l][0]),r[l]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);u&&u(t);while(d.length)d.shift()();return o.push.apply(o,c||[]),a()}function a(){for(var e,t=0;t<o.length;t++){for(var a=o[t],n=!0,i=1;i<a.length;i++){var s=a[i];0!==r[s]&&(n=!1)}n&&(o.splice(t--,1),e=l(l.s=a[0]))}return e}var n={},r={app:0},o=[];function l(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,l),a.l=!0,a.exports}l.m=e,l.c=n,l.d=function(e,t,a){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(l.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)l.d(a,n,function(t){return e[t]}.bind(null,n));return a},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],s=i.push.bind(i);i.push=t,i=i.slice();for(var c=0;c<i.length;c++)t(i[c]);var u=s;o.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"3b8c":function(e,t,a){e.exports=a.p+"img/logo.24fc6724.png"},5058:function(e,t,a){"use strict";var n=a("bbda"),r=a.n(n);r.a},"56d7":function(e,t,a){"use strict";a.r(t),a.d(t,"devServer",(function(){return ie}));a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},o=[],l={name:"app",components:{}},i=l,s=a("2877"),c=Object(s["a"])(i,r,o,!1,null,null,null),u=c.exports,p=a("8c4f"),d=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h3",[e._v("账户基本信息：")]),a("el-form",{attrs:{"label-width":"80px"}},[a("el-form-item",{attrs:{label:"账户名"}},[a("el-input",{model:{value:e.tableData.account_name,callback:function(t){e.$set(e.tableData,"account_name",t)},expression:"tableData.account_name"}})],1),a("el-form-item",{attrs:{label:"账户Id"}},[a("el-input",{model:{value:e.tableData.account_id,callback:function(t){e.$set(e.tableData,"account_id",t)},expression:"tableData.account_id"}})],1),a("el-form-item",{attrs:{label:"账户余额"}},[a("el-input",{model:{value:e.tableData.account_remain,callback:function(t){e.$set(e.tableData,"account_remain",t)},expression:"tableData.account_remain"}})],1)],1),a("h3",[e._v("房屋信息：")]),e._l(e.house,(function(t){return a("div",{key:t.houseId},[a("el-form",{attrs:{"label-width":"80px"}},[a("el-form-item",{attrs:{label:"房屋Id"}},[a("el-input",{model:{value:t.houseId,callback:function(a){e.$set(t,"houseId",a)},expression:"item.houseId"}})],1),a("el-form-item",{attrs:{label:"房屋名"}},[a("el-input",{model:{value:t.houseName,callback:function(a){e.$set(t,"houseName",a)},expression:"item.houseName"}})],1),a("el-form-item",{attrs:{label:"设计师"}},[a("el-input",{model:{value:t.designerName,callback:function(a){e.$set(t,"designerName",a)},expression:"item.designerName"}})],1)],1),a("el-image",{staticStyle:{width:"320px",height:"240px"},attrs:{src:t.designDrawing,"preview-src-list":[t.designDrawing]}})],1)}))],2)},m=[],f=(a("96cf"),a("1da1")),b={data:function(){return{account_id:"",tableData:{account_id:"",account_name:"",account_remain:""},house:[]}},created:function(){var e=window.sessionStorage.getItem("accountId");this.getTableData(e),this.getHouseInfo()},methods:{getTableData:function(e){var t=this;return Object(f["a"])(regeneratorRuntime.mark((function a(){var n,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.$http.get("/account/".concat(e),{params:t.account_id});case 2:n=a.sent,r=n.data,t.tableData=r.data;case 5:case"end":return a.stop()}}),a)})))()},getHouseInfo:function(){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("/house",{params:{account_id:window.sessionStorage.getItem("accountId")}});case 2:a=t.sent,n=a.data,e.house=n.data;case 5:case"end":return t.stop()}}),t)})))()}}},h=b,g=Object(s["a"])(h,d,m,!1,null,null,null),v=g.exports,w=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData1,stripe:""}},[a("el-table-column",{attrs:{prop:"projectId",label:"工程Id",width:"180"}}),a("el-table-column",{attrs:{prop:"projectName",label:"日程",width:"180"}}),a("el-table-column",{attrs:{label:"工程进度",width:"180"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("el-progress",{attrs:{type:"circle",percentage:100*e.row.projectProcess}})]}}])}),a("el-table-column",{attrs:{prop:"contractorId",label:"承包商Id",width:"180"}}),a("el-table-column",{attrs:{prop:"contractorName",label:"承包商",width:"180"}}),a("el-table-column",{attrs:{prop:"houseId",label:"房屋Id",width:"180"}})],1),a("h2",[e._v("查找某工程相关该供应商：")]),a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入要查询的工程Id"},model:{value:e.myinput,callback:function(t){e.myinput=t},expression:"myinput"}}),a("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(t){return e.getTableDate2()}}},[e._v("搜索")]),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData2,stripe:""}},[a("el-table-column",{attrs:{prop:"supplierId",label:"供应商Id",width:"180"}}),a("el-table-column",{attrs:{prop:"supplierName",label:"供应商",width:"180"}}),a("el-table-column",{attrs:{prop:"material",label:"材料",width:"180"}}),a("el-table-column",{attrs:{prop:"price",label:"价格",width:"180"}})],1)],1)},_=[],x={data:function(){return{tableData1:[],tableData2:[],myinput:"",project_id:"11"}},created:function(){this.getTableData1()},methods:{getTableData1:function(){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("/project",{params:e.colomn});case 2:a=t.sent,n=a.data,e.tableData1=n.data;case 5:case"end":return t.stop()}}),t)})))()},getTableDate2:function(){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function t(){var a,n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.myinput,console.log("projectId="+a),t.next=4,e.$http.get("/project/".concat(a,"/supplier"));case 4:n=t.sent,r=n.data,console.log(r.data),e.tableData2=r.data;case 8:case"end":return t.stop()}}),t)})))()}}},I=x,y=Object(s["a"])(I,w,_,!1,null,null,null),S=y.exports,$=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,stripe:""}},[a("el-table-column",{attrs:{prop:"projectId",label:"工程Id",width:"180"}}),a("el-table-column",{attrs:{prop:"projectName",label:"日程",width:"180"}}),a("el-table-column",{attrs:{label:"工程进度",width:"180"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("el-progress",{attrs:{type:"circle",percentage:100*e.row.projectProcess}})]}}])}),a("el-table-column",{attrs:{prop:"contractorId",label:"承包商Id",width:"180"}}),a("el-table-column",{attrs:{prop:"contractorName",label:"承包商",width:"180"}}),a("el-table-column",{attrs:{prop:"houseId",label:"房屋Id",width:"180"}}),a("el-table-column",{attrs:{align:"left"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.onSubmit(t.row.projectId)}}},[e._v("提交竞标")])]}}])})],1)],1)},D=[],j={data:function(){return{ids:{contractor_id:""},tableData:[],colomn:{}}},created:function(){this.getTableData()},methods:{getTableData:function(){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("/project",{params:e.colomn});case 2:a=t.sent,n=a.data,200===n.status&&e.$message.success("获取数据成功！"),e.tableData=n.data;case 6:case"end":return t.stop()}}),t)})))()},onSubmit:function(e){var t=this;return Object(f["a"])(regeneratorRuntime.mark((function a(){var n,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.ids.contractor_id=window.sessionStorage.getItem("contractorId"),console.log(t.ids),a.next=4,t.$http({method:"put",url:"/project/".concat(e,"/bid"),data:t.ids,header:{"Content-Type":"application/json"}});case 4:n=a.sent,r=n.data,200===r.status?t.$message.success(r.message):t.$message.error(r.message),console.log(r);case 8:case"end":return a.stop()}}),a)})))()}}},k=j,O=Object(s["a"])(k,$,D,!1,null,null,null),R=O.exports,T=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,height:"800",border:""}},[a("el-table-column",{attrs:{prop:"houseId",label:"房屋Id",width:"180"}}),a("el-table-column",{attrs:{prop:"houseName",label:"屋名",width:"180"}}),a("el-table-column",{attrs:{prop:"accountId",label:"房主",width:"180"}}),a("el-table-column",{attrs:{prop:"designerId",label:"设计师",width:"180"}}),a("el-table-column",{attrs:{label:"家居图片",width:"180"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("el-image",{staticStyle:{width:"100px",height:"100px"},attrs:{src:e.row.designDrawing,"preview-src-list":[e.row.designDrawing]}})]}}])}),a("el-table-column",{attrs:{prop:"designerName",label:"designerName"}})],1)],1)},N=[],z={data:function(){return{colomn:{},tableData:[]}},created:function(){this.getTableData()},methods:{getTableData:function(){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("/house",{params:e.colomn});case 2:a=t.sent,n=a.data,e.tableData=n.data;case 5:case"end":return t.stop()}}),t)})))()}}},F=z,C=Object(s["a"])(F,T,N,!1,null,null,null),P=C.exports,E=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h3",[e._v("当前登录的承包商用户："+e._s(this.contractorId))]),a("el-table",{ref:"multipleTable",attrs:{data:e.tableData,border:"",stripe:""},on:{"selection-change":e.sumSellectionPrice}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{label:"供应商Id",prop:"supplierId",width:"200"}}),a("el-table-column",{attrs:{label:"供应商",prop:"supplierName"}}),a("el-table-column",{attrs:{label:"材料",prop:"material"}}),a("el-table-column",{attrs:{label:"价格",prop:"price"}})],1),a("el-pagination",{attrs:{"current-page":e.queryInfo.pageNum,"page-sizes":[1,5,10,15,20],"page-size":e.queryInfo.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange,"update:pageSize":function(t){return e.$set(e.queryInfo,"pageSize",t)},"update:page-size":function(t){return e.$set(e.queryInfo,"pageSize",t)}}}),a("h3",[e._v("选中的材料总价格为："+e._s(e.sumPrice))]),a("center",[a("h2",[e._v("下表将对已选中的材料进行统计")]),a("el-table",{attrs:{data:e.sellectionSupplier,stripe:""}},[a("el-table-column",{attrs:{label:"供应商",prop:"supplierName",width:"100"}}),a("el-table-column",{attrs:{label:"材料",prop:"material",width:"100"}}),a("el-table-column",{attrs:{label:"价格",prop:"price",width:"100"}})],1)],1)],1)},q=[],L=(a("4160"),a("159b"),{data:function(){return{queryInfo:{pageNum:1,pageSize:10},tableData:[],total:0,sumPrice:0,multipleSelection:"",sellectionSupplier:[],contractorId:""}},created:function(){this.getTableData(),this.getSession()},methods:{getSession:function(){this.contractorId=window.sessionStorage.getItem("contractorId")},handleSizeChange:function(e){this.queryInfo.pageSize=e,this.getTableData()},handleCurrentChange:function(e){this.queryInfo.pageNum=e,this.getTableData()},getTableData:function(){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("/supplier",{params:e.queryInfo});case 2:a=t.sent,n=a.data,null!==n.data&&console.log(n.data),e.tableData=n.data.records,e.total=n.data.total,e.queryInfo.pageSize=n.data.size;case 8:case"end":return t.stop()}}),t)})))()},toggleSelection:function(e){var t=this;e?e.forEach((function(e){t.$refs.multipleTable.toggleRowSelection(e)})):this.$refs.multipleTable.clearSelection()},sumSellectionPrice:function(){for(var e=this.$refs.multipleTable.selection.length,t=0,a=0;a<e;a++)console.log(this.$refs.multipleTable.selection[a].price),t+=this.$refs.multipleTable.selection[a].price;this.sumPrice=t,this.sellectionSupplier=this.$refs.multipleTable.selection}}}),M=L,H=Object(s["a"])(M,E,q,!1,null,null,null),J=H.exports,A=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"login_container"},[a("div",{staticClass:"login_box"},[e._m(0),a("el-form",{ref:"loginFormRef",staticClass:"login_form",attrs:{model:e.loginForm,rules:e.loginFormRules,"label-width":"0px"}},[a("el-form-item",{attrs:{prop:"username"}},[a("el-input",{attrs:{"prefix-icon":"iconfont icon-user"},model:{value:e.loginForm.username,callback:function(t){e.$set(e.loginForm,"username",t)},expression:"loginForm.username"}})],1),a("el-form-item",{attrs:{prop:"password"}},[a("el-input",{attrs:{"prefix-icon":"iconfont icon-3702mima",type:"password"},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}})],1),a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},e._l(e.options,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),a("div",{staticClass:"btns"},[a("el-button",{attrs:{type:"primary"},on:{click:e.login}},[e._v("Login")]),a("el-button",{attrs:{type:"info"},on:{click:e.resetLoginForm}},[e._v("Reset")])],1)],1)],1),e._m(1)])},U=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"avatar_box"},[n("img",{attrs:{src:a("3b8c"),alt:""}})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"footer"},[a("span",[e._v("小组成员：杨前、龙征宇、方震、潘濛濛")])])}],B={data:function(){return{loginForm:{username:"房主2",password:"123456"},loginFormRules:{username:[{required:!0,message:"请输入登录名称",trigger:"blur"},{min:3,max:10,message:"长度在 3 到 10 个字符",trigger:"blur"}],password:[{required:!0,message:"请输入登录密码",trigger:"blur"},{min:6,max:15,message:"长度在 6 到 15 个字符",trigger:"blur"}]},options:[{value:0,label:"房主"},{value:1,label:"承包商"}],value:0}},methods:{resetLoginForm:function(){this.$refs.loginFormRef.resetFields()},login:function(){var e=this;this.$refs.loginFormRef.validate(function(){var t=Object(f["a"])(regeneratorRuntime.mark((function t(a){var n,r,o,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a){t.next=2;break}return t.abrupt("return");case 2:if(0!==e.value){t.next=14;break}return t.next=5,e.$http.post("/account/login",e.loginForm);case 5:if(n=t.sent,r=n.data,200===r.status){t.next=9;break}return t.abrupt("return",e.$message.error("Login failed!!!"));case 9:e.$message.success("Login succeed!!!"),window.sessionStorage.setItem("accountId",r.data.accountId),e.$router.push("/main/account"),t.next=25;break;case 14:return t.next=16,e.$http.post("/contractor/login",e.loginForm);case 16:if(o=t.sent,l=o.data,200===l.status){t.next=21;break}return window.alert("请求错误"),t.abrupt("return",e.$message.error("Login failed!!!"));case 21:e.$message.success("Login succeed!!!"),console.log(l.data),window.sessionStorage.setItem("contractorId",l.data.contractorId),e.$router.push("/main/project");case 25:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}}},G=B,K=(a("57ae"),Object(s["a"])(G,A,U,!1,null,"39f20144",null)),Q=K.exports,V=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",[a("el-header",[1===this.value?a("el-menu",{attrs:{"background-color":"#393D49","text-color":"#fff","active-text-color":"#409eff",router:"","default-active":e.$router.path,mode:"horizontal"}},[a("el-menu-item",{attrs:{index:"/main/project"}},[e._v("承包商页面")]),a("el-menu-item",{attrs:{index:"/main/house"}},[e._v("工程页面")]),a("el-menu-item",{attrs:{index:"/main/supplier"}},[e._v("供应商页面")])],1):0===this.value?a("el-menu",{attrs:{"background-color":"#393D49","text-color":"#fff","active-text-color":"#409eff",router:"","default-active":e.$router.path,mode:"horizontal"}},[a("el-menu-item",{attrs:{index:"/main/account"}},[e._v("房主信息")]),a("el-menu-item",{attrs:{index:"/main/schedule"}},[e._v("日程列表")])],1):e._e(),a("el-button",{staticClass:"loginout-button",attrs:{type:"primary"},on:{click:e.loginOut}},[e._v("退出")])],1),a("el-main",[a("router-view")],1)],1)},W=[],X={data:function(){return{value:0}},created:function(){null!==window.sessionStorage.getItem("accountId")&&(this.value=0),null!==window.sessionStorage.getItem("contractorId")&&(this.value=1)},methods:{loginOut:function(){window.sessionStorage.clear(),this.$router.push("/login")}}},Y=X,Z=(a("5058"),Object(s["a"])(Y,V,W,!1,null,"daf938b4",null)),ee=Z.exports;n["default"].use(p["a"]);var te=new p["a"]({routes:[{path:"/main",name:"Main",component:ee,children:[{path:"/main/project",name:"Project",component:R},{path:"/main/house",name:"House",component:P},{path:"/main/supplier",name:"Supplier",component:J},{path:"/main/account",name:"Account",component:v},{path:"/main/schedule",name:"Schedule",component:S}]},{path:"/login",name:"Login",component:Q},{path:"/",redirect:"/login"}]});te.beforeEach((function(e,t,a){if("/login"===e.path)return a();var n=window.sessionStorage.getItem("accountId"),r=window.sessionStorage.getItem("contractorId");if(null!==n||null!==r)return a();window.alert("不好意思，你必须退出重新登录"),a("/login")}));var ae=te,ne=a("bc3a"),re=a.n(ne),oe=a("5c96"),le=a.n(oe);a("0fae");n["default"].use(le.a);a("aede");n["default"].config.productionTip=!1,n["default"].use(le.a),n["default"].prototype.$axios=re.a,re.a.defaults.baseURL="http://localhost:8081/api",n["default"].prototype.$http=re.a,new n["default"]({router:ae,render:function(e){return e(u)}}).$mount("#app");var ie={disableHostCheck:!0}},"57ae":function(e,t,a){"use strict";var n=a("b5c9"),r=a.n(n);r.a},aede:function(e,t,a){},b5c9:function(e,t,a){},bbda:function(e,t,a){}});
//# sourceMappingURL=app.50ff2d8e.js.map